import{u as A,v as J,c as T,o as k,s as i,x as K,a as w,t as D,y as O,z as Q,A as g,i as S,_ as z,j as X,r as v,B as Y,b as x,w as H,d as L}from"#entry";import{_ as Z}from"./B8T7DSbX.js";const ee=["min","max","step"],se=A({__name:"inputSlider",props:{modelValue:{},min:{},max:{},step:{default:1},label:{default:""}},emits:["update:modelValue"],setup(y,{emit:u}){const l=y,s=u,c=J({get:()=>l.modelValue,set:t=>s("update:modelValue",t)});return(t,d)=>(k(),T("div",{class:i(t.$style.UiInputSlider)},[y.label?(k(),T("p",{key:0,class:i(t.$style.label)},D(t.$props.label),3)):K("",!0),w("div",{class:i(t.$style.wrapper)},[w("div",{class:i(t.$style.min)},D(y.min),3),O(w("input",{"onUpdate:modelValue":d[0]||(d[0]=n=>S(c)?c.value=n:null),class:i(t.$style.slider),type:"range",min:y.min,max:y.max,step:y.step,onInput:d[1]||(d[1]=n=>s("update:modelValue",n.target.valueAsNumber))},null,42,ee),[[Q,g(c),void 0,{number:!0}]]),w("div",{class:i(t.$style.value)},D(g(c)),3),w("div",{class:i(t.$style.max)},D(y.max),3)],2)],2))}}),te="_UiInputSlider_1qtcp_8",le="_label_1qtcp_12",ne="_wrapper_1qtcp_18",ae="_slider_1qtcp_25",oe="_min_1qtcp_57",ie="_max_1qtcp_57",ue="_value_1qtcp_76",de={UiInputSlider:te,label:le,wrapper:ne,slider:ae,min:oe,max:ie,value:ue},re={$style:de},ce=z(se,[["__cssModules",re]]),me=["width","height"],pe=A({__name:"mosaic",props:{images:{},options:{default:()=>({})}},setup(y){const u=y,l={width:768,height:512,rows:10,cols:10,delay:1e3,duration:2e3,...u.options};X(()=>{l.rows=u.options?.rows||10,l.cols=u.options?.cols||10,l.delay=u.options?.delay===0?0:u.options?.delay||1e3,l.duration=u.options?.duration||2e3});const s=v(null),c=v(null),t=v(null),d=v(0),n=v(null),h=v(null),m=v(!1),N=r=>new Promise(a=>{const o=new Image;o.onload=()=>a(o),o.src=r}),W=async()=>{s.value&&(n.value=s.value.getContext("2d"),h.value=await N(u.images[d.value]),n.value?.drawImage(h.value,0,0,s.value.width,s.value.height))},R=(r,a,o)=>{if(!s.value)return[];const $=s.value.width/o,q=s.value.height/a,U=[];for(let f=0;f<a;f++)for(let V=0;V<o;V++){const b=V*r.width/o,B=f*r.height/a,p=r.width/o,I=r.height/a,e=V*$,M=f*q,_=$,C=q;U.push({sx:b,sy:B,sw:p,sh:I,dx:e,dy:M,dw:_,dh:C})}return U},G=async r=>{if(m.value||!h.value)return;m.value=!0;const a=h.value,o=await N(u.images[r]),$=R(a,l.rows,l.cols),U=[...R(o,l.rows,l.cols)].sort(()=>Math.random()-.5),f=[];for(let p=0;p<$.length;p++){const I=$[p],e=U[p],M=Math.random()*l.delay;f.push({s:I,t:e,delay:M})}const V=l.duration+Math.max(...f.map(p=>p.delay),0);let b=null;const B=p=>{if(!n.value||!s.value)return;b||(b=p);const I=p-b;if(I>=V){n.value.drawImage(o,0,0,s.value.width,s.value.height),h.value=o,d.value=r,m.value=!1;return}n.value.clearRect(0,0,s.value.width,s.value.height);for(const e of f){const M=I-e.delay;let _=0;M>0&&(_=Math.min(1,M/l.duration));const C=e.s.dx+(e.t.dx-e.s.dx)*_,P=e.s.dy+(e.t.dy-e.s.dy)*_,F=e.s.dw+(e.t.dw-e.s.dw)*_,j=e.s.dh+(e.t.dh-e.s.dh)*_;n.value.save(),n.value.globalAlpha=1-_,n.value.drawImage(a,e.s.sx,e.s.sy,e.s.sw,e.s.sh,C,P,F,j),n.value.globalAlpha=_,n.value.drawImage(o,e.t.sx,e.t.sy,e.t.sw,e.t.sh,C,P,F,j),n.value.restore()}requestAnimationFrame(B)};requestAnimationFrame(B)},E=r=>{const a=r==="next"?1:-1,o=(d.value+a+u.images.length)%u.images.length;G(o)};return Y(()=>{W()}),(r,a)=>{const o=Z;return k(),T("div",{class:i(r.$style.SliderMosaic)},[w("canvas",{ref_key:"canvas",ref:s,width:l.width,height:l.height,class:i(r.$style.canvas)},null,10,me),w("div",{class:i(r.$style.controls)},[x(o,{ref_key:"prevBtn",ref:c,onClick:a[0]||(a[0]=$=>E("prev"))},{default:H(()=>[...a[2]||(a[2]=[L(" ⟵ ",-1)])]),_:1},512),x(o,{ref_key:"nextBtn",ref:t,onClick:a[1]||(a[1]=$=>E("next"))},{default:H(()=>[...a[3]||(a[3]=[L(" ⟶ ",-1)])]),_:1},512)],2)],2)}}}),ve="_SliderMosaic_14zwy_8",ye="_canvas_14zwy_14",ge="_controls_14zwy_21",we={SliderMosaic:ve,canvas:ye,controls:ge},_e={$style:we},fe=z(pe,[["__cssModules",_e]]),he=A({__name:"slider",setup(y){const u=v(10),l=v(10),s=v(1e3),c=v(1e3);return(t,d)=>{const n=ce,h=fe;return k(),T("div",{class:i([t.$style.SliderPage,"page"])},[w("div",{class:i([t.$style.container,"container"])},[w("div",{class:i(t.$style.aside)},[x(n,{modelValue:g(u),"onUpdate:modelValue":d[0]||(d[0]=m=>S(u)?u.value=m:null),class:i(t.$style.slider),min:1,max:50,label:"Tiles Rows"},null,8,["modelValue","class"]),x(n,{modelValue:g(l),"onUpdate:modelValue":d[1]||(d[1]=m=>S(l)?l.value=m:null),class:i(t.$style.slider),min:1,max:50,label:"Tiles Columns"},null,8,["modelValue","class"]),x(n,{modelValue:g(s),"onUpdate:modelValue":d[2]||(d[2]=m=>S(s)?s.value=m:null),class:i(t.$style.slider),min:0,max:5e3,step:100,label:"Tile Animation Delay (ms)"},null,8,["modelValue","class"]),x(n,{modelValue:g(c),"onUpdate:modelValue":d[3]||(d[3]=m=>S(c)?c.value=m:null),class:i(t.$style.slider),min:100,max:5e3,step:100,label:"Animation Duration (ms)"},null,8,["modelValue","class"])],2),w("div",{class:i(t.$style.content)},[x(h,{images:["../img/catDefault1.png","../img/catDefault2.png","../img/catDefault3.png"],options:{rows:g(u),cols:g(l),delay:g(s),duration:g(c)}},null,8,["options"])],2)],2)],2)}}}),$e="_container_1iwgy_8",xe="_content_1iwgy_18",Ve="_aside_1iwgy_28",Ie={container:$e,content:xe,aside:Ve},Me={$style:Ie},Ue=z(he,[["__cssModules",Me]]);export{Ue as default};
